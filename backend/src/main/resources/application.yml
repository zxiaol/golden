# 公共配置（所有环境共享）
spring:
  application:
    name: ecommerce-backend
  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 10MB
  jackson:
    date-format: yyyy-MM-dd HH:mm:ss
    time-zone: GMT+8
  # 默认使用开发环境（可通过环境变量 SPRING_PROFILES_ACTIVE 覆盖）
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}

mybatis:
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: com.golden.entity
  configuration:
    map-underscore-to-camel-case: true

# Flyway 数据库迁移配置
flyway:
  enabled: true
  locations: classpath:db/migration
  baseline-on-migrate: true  # 如果数据库已有表，自动创建基线
  validate-on-migrate: true  # 迁移前验证
  clean-disabled: true  # 禁止在生产环境使用 clean
